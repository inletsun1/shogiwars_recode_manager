# shogiwars_recode_manager
インターネット将棋道場、[将棋ウォーズ](https://shogiwars.heroz.jp/)の棋譜を[csa形式](http://www2.computer-shogi.org/protocol/record_v22.html)
でダウンロードし、さらに戦型別に分類するツールです。

## 棋譜のダウンロード
main_crawl.py内の変数urlにダウロードしたいユーザーの棋譜ページを指定します。  
例:PonaInfinityの棋譜をダウンロードしたい場合  
url = https://shogiwars.heroz.jp/users/history/ponainfinity?locale=ja  

変数dptにダウンロードしたい棋譜ページのページ数を指定します。  
例えばdpt = 10にした場合、棋譜ページの1ページから10ページまでをダウンロードします。  
  
以上の変数の指定を終えたらmain_crawl.pyを実行します。ダウンロードしたファイルはkifuというディレクトリに保存されます。  
  
## 棋譜の戦型別分類
自分で指定した盤面と同じ盤面を迎えたかどうかを調べることで戦型を分類します。
### 準備
1.kakoi/という名前のディレクトリを作成する。  
2.自分が分類したい盤面を.csa形式で作り、kakoi/に保存する。　　

指定した盤面を部分的に含んでいる場合にその戦型であると分類するため、以下のようにすればより良い分類ができる。  
端歩の関係を重視しない場合は、端歩を除く。  
美濃囲い等の囲い別に分類したい場合は囲い部分のみを書き込む。  
### 分類
main_classify_kakoi.pyを実行する。上で作成した戦型をしていする盤面のcsaファイル名と同じ名前のディレクトリを作成し、そのディレクトリに分類された棋譜が保存される。
